<head>
  <title>NanoFrame</title>
  <%= render "layouts/scripts"%>
  <%= stylesheet_link_tag 'application', media: 'all' %>
</head>

<body>



  <%= render partial: "layouts/nav", locals: {tab: "bot"}%>

  <div class="message-container">
    <% flash.each do |key, value| %>
    <div class="alert alert-<%= key %> alert-dismissible fade show" role="alert">
      <span class="mesage-value"><%= value %></span>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% end %>
    <div class="alert alert-warning alert-dismissible fade show warning-container" role="alert">
      <p class="warning-text">The Loopout length is over 200 base pairs </p><a href="#"
        id="continue_anchor">Continue?</a> See <a href="nanobot/generator">generator page</a>
      for iteractive examples.
    </div>
    <div class="alert alert-danger alert-dismissible fade show danger-container" role="alert">
      Specified dimensions are greater than scaffold length!
    </div>
  </div>


  <!-- End of NAVBAR-->

  <!-- Start of Synthesizer Selection-->
  <div class="row selection-menu">
    <div class="col-md-6 synthesizer-container">
      <div class="datGUI"></div>
      <canvas id="synthesizer"></canvas>

    </div>
    <div class="col-md-6">
      <div class="synthesizer-header">
        <h3>Select Synthesizing Options</h3>
      </div>
      <%= form_with(model: @generator, method: :post, id: "synthesize-form", class: "synthesize-form") do |f| %>
      <div class="shape-dropdown">
        <select id="synthesizer-shape" class="form-select" name="generator[shape]">
          <option value="0" disabled selected>Select Shape</option>
          <option value="1">Cube</option>
          <option value="2">Sphere</option>
          <option value="3">Cylinder</option>
          <option value="4">Cone</option>
          <option value="5">Polyhedron</option>
          <option value="6">Tetrahedron</option>
          <option value="7">Octahedron</option>
          <option value="8">Icosahedron</option>
          <option value="9">Dodecahedron</option>
          <option value="10 ">Torus</option>
          <option value="11">Torus Knot</option>
          <option value="/shaper">Custom</option>
        </select>
        <%# <%= select_tag(:shape,  options_for_select(@options, :select => "2", :disabled => "0"), id: "synthesizer-shape", class: "form-select")%>
      </div>
      <div class="color-scaffold-select">
        <div class="scaffold-select">

          <div class="form-check form-check-inline">
            <%= f.radio_button :option, "8064 nucleotides scaffold", class: "btn-check", id: "8064-radiobtn", autocomplete: "off", checked: (true if @generator.option == "8064 nucleotides scaffold"), style: "display: none;"%>
            <%= f.label "1", "8064 nucleotides scaffold", for: "8064-radiobtn", class: "btn btn-outline-dark", id: "inlineRadio1"%>
          </div>
          <div class="form-check form-check-inline">
            <%= f.radio_button :option, "7249 nucleotides scaffold", class: "btn-check", id: "7249-radiobtn", autocomplete: "off", checked: (true if @generator.option != "8064 nucleotides scaffold"), style: "display: none;" %>
            <%= f.label "2", "7249 nucleotides scaffold", for: "7249-radiobtn", class: "btn btn-outline-dark", id: "inlineRadio2"%>
          </div>

        </div>
      </div>

      <%# Erbify %>
      <div class="row sequence-container">
        <div class="col-md-6 random-sequence-container">
          <input class="form-check-input" type="checkbox" value="" id="sequenceCheckbox" checked autocomplete="off">
          <label class="form-check-label" for="sequenceCheckbox">
            Random Sequence
          </label>
        </div>

        <div class="col-md-6 input-container">
          <input class="form-control" id="sequenceUpload" type="file" accept=".txt">
        </div>
      </div>
      <%= f.hidden_field "scaffold_length" ""%>
      <%# Add hidden field for JSON data %>

      <div class="dimension-picker">
        <div
          class="width-container dimension-wrapper-container <%= 'dimension-container' if @generator.width == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Width</span>
            <%= f.text_field :width, type: "text", class: "dimension-input width-input form-control", placeholder: "30 nm" %>
          </div>
        </div>

        <div
          class="height-container dimension-wrapper-container <%= 'dimension-container' if @generator.height == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Height</span>
            <%= f.text_field :height, type: "text", class: "dimension-input height-input form-control", placeholder: "30 nm" %>
          </div>
        </div>

        <div
          class="depth-container dimension-wrapper-container <%= 'dimension-container' if @generator.depth == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Depth</span>
            <%= f.text_field :depth, type: "text", class: "dimension-input depth-input form-control", placeholder: "30 nm" %>
          </div>
        </div>
        <div
          class="radius-container dimension-wrapper-container <%= 'dimension-container' if @generator.radius == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="Radius of the chosen object."
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">Radius</span>
            <%= f.text_field :radius, type: "text", class: "dimension-input radius-input form-control", placeholder: "20 nm" %>
          </div>
        </div>
        <div
          class="rs-container dimension-wrapper-container <%= 'dimension-container' if @generator.radial_segment == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left"
            title="Number of segmented faces around the circumference." class="input-group dimension-input-container">
            <span class="input-group-text w-25">Radial Segment</span>
            <%= f.text_field :radial_segment, type: "text", class: "dimension-input rs-input form-control", placeholder: "10 nm" %>
          </div>
        </div>
        <div
          class="rt-container dimension-wrapper-container <%= 'dimension-container' if @generator.radius_top == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="Radius of the chosen object at the top"
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">Radius Top</span>
            <%= f.text_field :radius_top, type: "text", class: "dimension-input rst-input form-control", placeholder: "20 nm" %>
          </div>
        </div>
        <div
          class="rb-container dimension-wrapper-container <%= 'dimension-container' if @generator.radius_bottom == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="Radius of the object at the bottom"
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">Radius Bottom</span>
            <%= f.text_field :radius_bottom, type: "text", class: "dimension-input rsb-input form-control", placeholder: "15 nm" %>
          </div>
        </div>
        <div
          class="detail-container dimension-wrapper-container <%= 'dimension-container' if @generator.detail == nil %>">
          <div title="Setting this to a value greater than 0 adds vertices making it no longer a chosen hedron."
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">Detail</span>
            <%= f.text_field :detail, type: "text", class: "dimension-input detail-input form-control", placeholder: "0" %>
          </div>
        </div>
        <div
          class="ws-container dimension-wrapper-container <%= 'dimension-container' if @generator.width_segment == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Width Stripes</span>
            <%= f.text_field :width_segment, type: "text", class: "dimension-input ws-input form-control", placeholder: "3" %>
          </div>
        </div>
        <div
          class="hs-container dimension-wrapper-container <%= 'dimension-container' if @generator.height_segment == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Height Stripes</span>
            <%= f.text_field :height_segment, type: "text", class: "dimension-input hs-input form-control", placeholder: "3" %>
          </div>
        </div>

        <div
          class="ds-container dimension-wrapper-container <%= 'dimension-container' if @generator.depth_segment == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Depth Stripes</span>
            <%= f.text_field :depth_segment, type: "text", class: "dimension-input ds-input form-control", placeholder: "3" %>
          </div>
        </div>

        <div
          class="tube-container dimension-wrapper-container <%= 'dimension-container' if @generator.tube_radius == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="Radius of the tube."
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">Tube Radius</span>
            <%= f.text_field :tube_radius, type: "text", class: "dimension-input tube-input form-control", placeholder: "6 nm" %>
          </div>
        </div>

        <div
          class="tubular-container dimension-wrapper-container <%= 'dimension-container' if @generator.tubular_radius == nil %>">
          <div class="input-group dimension-input-container">
            <span class="input-group-text w-25">Tubular Segment</span>
            <%= f.text_field :tubular_radius, type: "text", class: "dimension-input tubular-input form-control", placeholder: "10 nm" %>
          </div>
        </div>

        <div class="p-container dimension-wrapper-container <%= 'dimension-container' if @generator.p == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="This value determines, how many times the geometry 
              winds around its axis of rotational symmetry. Default is 2."
            class="input-group dimension-input-container">
            <span class="input-group-text w-25">P</span>
            <%= f.text_field :p, type: "text", class: "dimension-input p-input form-control", placeholder: "5" %>
          </div>
        </div>

        <div class="q-container dimension-wrapper-container <%= 'dimension-container' if @generator.q == nil %>">
          <div data-bs-toggle="tooltip" data-bs-placement="left" title="This value determines, how many times the geometry winds around 
              a circle in the interior of the torus. Default is 3." class="input-group dimension-input-container">
            <span class="input-group-text w-25">Q</span>
            <%= f.text_field :q, type: "text", class: "dimension-input q-input form-control", placeholder: "5" %>
          </div>
        </div>

        <div class="json-container">
          <%= f.text_field :json, type: "hidden", class: "json-input" %>
        </div>
      </div>
      <div class="synthesizer-btn-container">
        <%= f.submit "Synthesize", id: "synthesize-btn", class: "synthesizer-btn btn btn-secondary btn-lg w-50", disabled: true%>
        <%# <button type="submit" class="synthesizer-btn btn btn-secondary btn-lg w-50" disabled>Synthesize</button> %>
      </div>
      <% end %>
    </div>

  </div>

  <!-- End of Synthesizer Selection-->

  <%= render "layouts/footer"%>
  <%= javascript_pack_tag 'dna', 'model', 'nanobot', 'data-turbolinks-track': 'reload'%>
</body>