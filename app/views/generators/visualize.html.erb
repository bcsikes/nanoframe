<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Project Nanoframe</title>

    <!-- Stylesheet Links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300&display=swap" rel="stylesheet">
    <!-- Script Links-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>
    <%= stylesheet_link_tag 'application', media: 'all' %>
</head>

<body>
    <input type="hidden" id="generator-container" value="<%= @graph_json %>">
    <input type="hidden" id="generator-id-container" value="<%= @generator.id %>">
    <input type="hidden" id="routing-positions" value="">


    <div class="menu-items">
        <ul class="nav nav-tabs justify-content-end">
            <li class="nav-item">
                <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active nanofont" href="/nanobot">The NanoBot</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/miscellaneous">Miscellaneous</a>
            </li>
        </ul>
    </div>

    <div class="row outer-menu-container">
        <div class="col-md-6">
            <div class="back-container">
                <a class="generator-arrow btn btn-link backbtn" href="/nanobot">&larr; Back</a>
            </div>
        </div>

        <div class="col-md-6">
            <div class="forward-container">
                <form action="/nanobot/<%= @generator.id%>/routing" method="POST">
                    <input type="hidden" name="authenticity_token" value="<%=form_authenticity_token%>">
                    <input type="hidden" id="set-values" name="vertices" value="">
                    <button type="submit" id="routing-btn" class="btn btn-link route-arrow">Routing &rarr;</button>
                </form>

            </div>
        </div>
    </div>

    <div class="regenerate-container">
        <div class="row">
            <%= link_to "Regenerate Routing", generate_routing_path({regenerate: true}), class: "btn btn-outline-secondary" %>
        </div>
        <div class="row box-state-container">
            <input id="box-state" type="checkbox" class="btn-check" autocomplete="off">
            <label id="box-state-label" class="btn btn-outline-secondary" for="box-state">Open Form</label><br>
        </div>
        <div class="row">
            <div class="col-md-8">
                <label for="color-slider" class="form-label">Red Start</label>
                <input type="range" class="form-range" id="red-color-slider">
            </div>
            <div class="col-md-4 ">
                <div class="rgb-gradient">
                    <input class="form-check-input" type="checkbox" value="" id="red-gradient-box" checked>
                    <label class="form-check-label" for="red-gradient-box">Gradient</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                <label for="color-slider" class="form-label">Green Start</label>
                <input type="range" class="form-range" id="green-color-slider">
            </div>
            <div class="col-md-4 ">
                <div class="rgb-gradient">
                    <input class="form-check-input" type="checkbox" value="" id="green-gradient-box" checked>
                    <label class="form-check-label" for="green-gradient-box">Gradient</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                <label for="color-slider" class="form-label">Blue Start</label>
                <input type="range" class="form-range" id="blue-color-slider">
            </div>
            <div class="col-md-4 ">
                <div class="rgb-gradient">
                    <input class="form-check-input" type="checkbox" value="" id="blue-gradient-box" checked>
                    <label class="form-check-label" for="blue-gradient-box">Gradient</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10">
            <div class="visualizer-container">
                <div class="datGUI"></div>
                <canvas id="visualize-webgl"></canvas>
            </div>
        </div>
        <div class="col-md-1">
        </div>
    </div>


    <div value="2" class="container" id="footer">
        <hr class="my-4">

        <div class="footer-copyright text-center py-3">
            <div class="copyright">
                <p>Â© 2021 <a href="https://tilabberkeley.com/">Ti Lab</a> @ Berkeley</p>
            </div>
        </div>
    </div>

    <%= javascript_pack_tag 'visualize', 'routingPositionUpdate', 'data-turbolinks-track': 'reload'%>
</body>

</html>