<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Project Nanoframe</title>

    <!-- Stylesheet Links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dosis&display=swap" rel="stylesheet">
    <!-- Script Links-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>
    <%= stylesheet_link_tag 'application', media: 'all' %>
</head>

<body>

    <div class="menu-items">
        <ul class="nav nav-tabs justify-content-end">
            <li class="nav-item">
                <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active nanofont" href="/nanobot">The NanoBot</a>
            </li>
        <li class="nav-item">
          <a class="nav-link" href="/miscellaneous">Miscellaneous</a>
        </li>
        </ul>
    </div>

    <%
=begin%>
    <form>
        <div class="row">
            <div class="col">
                <input type="text" class="form-control" placeholder="First name">
            </div>
            <div class="col">
                <input type="text" class="form-control" placeholder="Last name">
            </div>
        </div>
    </form>
    <%
=end%>

    <canvas id="cube-generator-webgl"></canvas>

    <%= form_tag shape_generator_path, method: :get, id: 'cube_generator_form' do %>
        <div class="row">
            <div class="col-md-3 form-floating">
                <%= text_field_tag 'step_size', nil, class: "form-control", placeholder: "10 nm", id: "step_size_input" %>
                <label for="step_size_input">Step Size (nm)</label>
            </div>
            <div class="col-md-3 form-floating">
                <%= text_field_tag 'loopout_length', nil, class: "form-control", placeholder: "10 nm", id: "loopout_length_input" %>
                <label for="loopout_length_input">Loopout Length (nm)</label>
            </div>

            <div class="col-md-2 form-floating">
                <%= text_field_tag 'max', "240", class: "form-control", id: "max_input" %>
                <label for="max_input">Max (nm)</label>
            </div>
            <div class="col-md-2 form-floating">
                <%= text_field_tag 'min', "10", class: "form-control", id: "min_input"%>
                <label for="max_input">Min (nm)</label>
            </div>
                    <div class="col-md-2 form-floating">
                <%= text_field_tag 'scaff_length', "7249", class: "form-control", id: "scaff_length_input"%>
                <label for="scaff_length_input">Scaffold Length (bp)</label>
            </div>
        </div>
        <div class="form-submit-container">
            <%= submit_tag 'Generate', id: 'tmdb_submit', class: 'btn btn-primary btn-block p-3 w-50' %>
        </div>
    <% end %>

<% if @returned_results %>   
    <div class="table-container">
        <h2>Results for step=<%= @step_size %>, loopout=<%= @loopout_length %></h2>
        <% if !@objects.empty? %>
        <table class="table table-striped col-md-12" id="search_movies">
        <thead>
        <tr>
            <th>Height</th>
            <th>Width</th>
            <th>Depth</th>
            <th>Stripes</th>
            <th>Loopout leftover (bp)</th>
        </tr>
        </thead>
        <tbody>
        <% @objects.each do |object| %>
            <tr>
            <td >
                <%= object.height %>
            </td>
            <td >
                <%= object.width %>
            </td>
            <td>
                <%= object.depth %>
            </td>
            <td>
                <%= object.segments %>
            </td>
            <td>
                <%= object.leftover %>
            </td>
            </tr>
        <% end %>
        </tbody>
    </table>
    <% else %>
    <h5>No cuboid configuration found</h5>
    <% end %>
  </div>
<% end %>

 <%= javascript_pack_tag 'shapeGenerator', 'data-turbolinks-track': 'reload'%>

</body>


</html>